


<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

    <head>
        <title>Upload Scaled Images | Fine Uploader Documentation</title>
        
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <link rel="icon" href="/favicon.ico">
        

        
        <!--
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        -->
        <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet">
        <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap-responsive.min.css" rel="stylesheet">
        
        
        <link href='http://fonts.googleapis.com/css?family=Maven+Pro:700,400' rel='stylesheet' type='text/css'>
        
        
        <link rel="stylesheet" href="/tag/5.0.7/_static/css/main.css" />
        <link rel="stylesheet" href="/tag/5.0.7/_static/css/pygments.css" />
        

        

        
        <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
        

        

    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->


        <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <div class="nav-collapse collapse">
                <ul class="nav">
                    <li><a class="brand" href="http://fineuploader.com/"><img style="margin-top: -10px; height: 20px" src="http://fineuploader.com/img/FineUploader_logo.png"></img></a></li>
                    <li><a href="/tag/5.0.7">Docs</li></a>
                    <li><a href="http://blog.fineuploader.com/">Blog</li></a>

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Features <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="/tag/5.0.7/features/async-tasks-and-promises.html">Async Tasks & Promises</a></li>
                            <li><a href="/tag/5.0.7/features/azure.html">Azure Blob Storage Uploads</a></li>
                            <li><a href="/tag/5.0.7/features/cancellable-uploads.html">Cancelling</a></li>
                            <li><a href="/tag/5.0.7/features/chunking.html">Chunking</a></li>
                            <li><a href="/tag/5.0.7/features/concurrent-chunking.html">Concurrent Chunking</a></li>
                            <li><a href="/tag/5.0.7/features/CORS.html">CORS</a></li>
                            <li><a href="/tag/5.0.7/features/delete.html">Delete</a></li>
                            <li><a href="/tag/5.0.7/features/drag-and-drop.html">Drag and Drop</a></li>
                            <li><a href="/tag/5.0.7/features/handling-errors.html">Error Handling</a></li>
                            <li><a href="/tag/5.0.7/features/filename-edit.html">Filename Editing</a></li>
                            <li><a href="/tag/5.0.7/features/forms.html">Form Support</a></li>
                            <li><a href="/tag/5.0.7/features/session.html">Initial File Lists</a></li>
                            <li><a href="/tag/5.0.7/features/extra-buttons.html">Multiple Upload Buttons</a></li>
                            <li><a href="/tag/5.0.7/features/no-server-uploads.html">No-Server Uploads</a></li>
                            <li><a href="/tag/5.0.7/features/paste-to-upload.html">Paste</a></li>
                            <li><a href="/tag/5.0.7/features/pause.html">Pause In-Progress Uploads</a></li>
                            <li><a href="/tag/5.0.7/features/progress-bars.html">Progress Bars</a></li>
                            <li><a href="/tag/5.0.7/features/thumbnails.html">Previews & Thumbnails</a></li>
                            <li><a href="/tag/5.0.7/features/request-parameters.html">Request</a></li>
                            <li><a href="/tag/5.0.7/features/resume.html">Resuming</a></li>
                            <li><a href="/tag/5.0.7/features/retry.html">Retrying</a></li>
                            <li><a href="/tag/5.0.7/features/s3.html">S3 Uploads</a></li>
                            <li><a href="/tag/5.0.7/features/statistics-and-status-updates.html">Stats & Status</a></li>
                            <li><a href="/tag/5.0.7/features/styling.html">Styling</a></li>
                            <li><a href="/tag/5.0.7/features/upload-files.html">Uploading</a></li>
                            <li><a href="/tag/5.0.7/features/scaling.html">Upload Scaled Images</a></li>
                            <li><a href="/tag/5.0.7/features/upload-from-mobile-camera.html">Upload via Mobile Camera</a></li>
                            <li><a href="/tag/5.0.7/features/validation.html">Validation</a></li>
                        </ul>
                    </li>


                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu api">
                                <li><b>Options</b></li>
                                <li><a href="/tag/5.0.7/api/options.html">Core</a></li>
                                <li><a href="/tag/5.0.7/api/options-ui.html">UI</a></li>
                                <li><a href="/tag/5.0.7/api/options-s3.html">S3</a></li>
                                <li><a href="/tag/5.0.7/api/options-azure.html">Azure</a></li>
                                <li class="divider"></li>
                                <li><b>Methods</b></li>
                                <li><a href="/tag/5.0.7/api/methods.html">Core & UI</a></li>
                                <li><a href="/tag/5.0.7/api/methods-s3.html">S3</a></li>
                                <li><a href="/tag/5.0.7/api/methods-azure.html">Azure</a></li>
                                <li class="divider"></li>
                                <li><b>Events</b></li>
                                <li><a href="/tag/5.0.7/api/events.html">Core & UI</a></li>
                                <li><a href="/tag/5.0.7/api/events-s3.html">S3</a></li>
                                <li class="divider"></li>
                                <li><a style="margin-left: -20px;"href="/tag/5.0.7/api/qq.html">Utilities</a></li>
                        </ul>
                    </li>

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Servers <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <ul><a href="/tag/5.0.7/endpoint_handlers/traditional.html">Traditional</a></ul>
                            <ul><a href="/tag/5.0.7/endpoint_handlers/amazon-s3.html">Amazon S3</a></ul>
                            <ul><a href="/tag/5.0.7/endpoint_handlers/azure.html">Azure Blob Storage</a></ul>
                        </ul>
                    </li>

                    <li><a href="/tag/5.0.7/support.html">Support</li></a>

                    
                        
                    
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Version <b class="caret"></b>
                        <ul class="dropdown-menu">
                            <li class><a href="/tag/5.0.7">Current: 5.0.7</a></li>
                            
                                <li><a href="/branch/master">Stable</a></li>
                            
                                <li><a href="/branch/develop">In Progress</a></li>
                            
                        </ul>
                    </li>
                </ul>

                <form method="get" id="search" action="http://duckduckgo.com/" class="navbar-form pull-right">
                    <input type="hidden" name="sites" value="docs.fineuploader.com/tag/5.0.7"/>
                    <!-- Header -->
                    <input type="hidden" name="kj" value="#0088CC"/>
                    <!-- Background -->
                    <input type="hidden" name="k7" value="#FFFFFF"/>
                    <!-- Text -->
                    <input type="hidden" name="k8" value="#444444"/>
                    <!-- Links -->
                    <input type="hidden" name="k9" value="#0088CC"/>
                    <!-- Visited Links -->
                    <input type="hidden" name="kaa" value="#0088CC"/>
                    <!-- URLS -->
                    <input type="hidden" name="kx" value="#F87436"/>
                    <!-- Font -->
                    <input type="hidden" name="kt" value="h"/>
                    <input type="text" name="q" maxlength="255" placeholder="Search&hellip;" class="span2" style="margin-top: 4px;"/>
                    <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;" />
                </form>


                    <!--
                    <div class="pull-right">
                        <iframe src="http://duckduckgo.com/search.html?site=docs.fineuploader.com&prefill=Search documentation&focus=yes" style="overflow:hidden;margin:0;padding:0;width:208px;height:10px;" frameborder="0"></iframe>
                    </div>
                    -->
            </div><!--/.nav-collapse -->
        </div>
    </div>
</div>




        
        <div class="container-fluid">
            <div class='row-fluid'>
            

                <div class="span2 sidebar">
                

<div class="sidebar">
    
    <div class="accordion-group">
        <div class="accordion-heading">
            <a href="../api/options.html"><b>Options</b></a>
        </div>
        <div class="accordion-body">
            <div class="accordon-inner">
                <ul class="nav nav-list">
        
            
                <li><a href="../api/options.html#scaling">scaling</a></li>
            
        
            
                
                
                    
                    <li><a href="../api/options-ui.html#scaling">scaling (UI)</a></li>
                    
            
        
                </ul>
            </div>
        </div>
    </div>
    

    
    <div class="accordion-group">
        <div class="accordion-heading">
            <a href="../api/methods.html"><b>Methods</b></a>
        </div>
        <div class="accordion-body">
            <div class="accordon-inner">
                <ul class="nav nav-list">
        
            
                    <li><a href="../api/methods.html#getParentId">getParentId</a></li>
            
        
            
                    <li><a href="../api/methods.html#scaleImage">scaleImage</a></li>
            
        
                </ul>
            </div>
        </div>
    </div>
    

    

</div>



                </div>

                <div class="span9 content">
                    <span class="pull-right" style="opacity: .7; padding: 1px; margin-right: 5px;"><p>5.0.7</p></span>

                

                
<h1 class="page-header" id="generate-and-upload-scaled-images">Generate and Upload Scaled Images</h1>
<h3 id="overview_1">Overview</h3>
<p>The scaling feature allows your server to breathe a bit easier as image scaling efforts are handled client-side
by Fine Uploader.  If your users submit any image files that can be rendered natively by the current browser,
Fine Uploader will create scaled versions and upload those as well.  You can tell Fine Uploader which sizes you would
like it to generate and upload.  You can specify size-specific text to append to each scaled image name.  The scaled
image can be correctly oriented by Fine Uploader before it is sent to your server.  You can also ensure only scaled
images, and not the original image, are uploaded.  Finally, you can ask Fine Uploader to magically insert the
EXIF data from the original image into each scaled image.</p>
<p>Generating and uploading scaled versions of each submitted
image can be as simple as specifying an array of objects with <code>name</code> and <code>maxSize</code> properties to indicate the scaled image
file&#8217;s name and maximum size, respectively.</p>
<h3 id="basic-operation">Basic Operation</h3>
<p>By default, Fine Uploader will send the original image file, along with any scaled versions you have requested via
the <a href="../api/options.html#scaling.sizes"><code>scaling.sizes</code> option</a>.  Also, by default, all scaled versions will be correctly oriented before they
are uploaded.</p>
<p>You must provide a <code>sizes</code> array though.  For example:</p>
<div class="codehilite"><pre><span class="kd">var</span> <span class="nx">uploader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">qq</span><span class="p">.</span><span class="nx">FineUploader</span><span class="p">({</span>
    <span class="p">...</span>
    <span class="nx">scaling</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">sizes</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;small&quot;</span><span class="p">,</span> <span class="nx">maxSize</span><span class="o">:</span> <span class="mi">100</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;medium&quot;</span><span class="p">,</span> <span class="nx">maxSize</span><span class="o">:</span> <span class="mi">300</span><span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>


<p>The code above will result in Fine Uploader generating and uploading 2 scaled versions of each user-submitted
image file.  The original, along with the 2 scaled versions, will appear in the UI&#8217;s file list as well.  If the
user submits a PNG named &#8220;image.png&#8221;, that will be submitted, along with another file named &#8220;image (small).png&#8221;,
and &#8220;image (medium).png&#8221;.</p>
<p>The scaled versions will be scaled proportional to the original image.  In this case, the &#8220;small&#8221; version will
be no more than 100px high or wide, and the &#8220;medium&#8221; version will be no more than 300px wide or high.</p>
<p>Notice that the two scaled images do not initially have file sizes displayed in the UI.  This is due to the
fact that Fine Uploader defers generation of these scaled versions until just before the images are going to be
actually uploaded.  After a scaled image has been uploaded, the client-side generated version of this image is
discarded to conserve browser memory.  Calls to the <a href="../api/methods.html#getFile"><code>getFile</code> API method</a> will return the associated
original file, not the scaled version.  This is due to the fact that, again, the scaled version is not kept around
any longer than necessary to conserve memory.  Also, generating a scaled version is an asynchronous operation, which
would require the <a href="../api/methods.html#getFile"><code>getFile</code> API method</a> return a <a href="async-tasks-and-promises.html">promise</a>, introducing a breaking
change to the API.  Once a scaled image has been generated, the UI (and <a href="statistics-and-status-updates.html">upload data store</a>) will be updated
with the generated size.</p>
<p>Fine Uploader ensures that a group of scaled images is always uploaded in order, smallest file first.
The original file is always sent last.</p>
<h3 id="only-upload-scaled-files">Only Upload Scaled Files</h3>
<p>To conserve bandwidth, you may only want to upload smaller, scaled versions of an original image.  Simply set the
<a href="../api/options.html#scaling.sendOriginal"><code>scaling.sendOriginal</code> option</a> to <code>false</code>.  The above example would be changed to:</p>
<div class="codehilite"><pre><span class="kd">var</span> <span class="nx">uploader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">qq</span><span class="p">.</span><span class="nx">FineUploader</span><span class="p">({</span>
    <span class="p">...</span>
    <span class="nx">scaling</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">sendOriginal</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

        <span class="nx">sizes</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;small&quot;</span><span class="p">,</span> <span class="nx">maxSize</span><span class="o">:</span> <span class="mi">100</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;medium&quot;</span><span class="p">,</span> <span class="nx">maxSize</span><span class="o">:</span> <span class="mi">300</span><span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>


<p>If you instruct Fine Uploader to NOT send the original file, it will not be uploaded, represented in the
UI, or represented in the <a href="statistics-and-status-updates.html">upload data store</a>.  Effectively, the original file will be transformed into
the specified number of scaled versions.  However, it will still be accessible via any <a href="../api/methods.html">API methods</a>
that require access to the original file for your convenience.  For example, calling <a href="../api/methods.html#getFile"><code>getFile</code></a>
on a scaled image will still return the original file.</p>
<h3 id="hide-scaled-files-in-ui-mode">Hide Scaled Files in UI Mode</h3>
<p>If you do not want scaled versions to be represented in Fine Uploader UI&#8217;s file list, simply set the Fine Uploader
UI <a href="../api/options-ui.html#scaling.hideScaled"><code>scaling.hideScaled</code> option</a> to <code>true</code>.  Note that this will <em>only</em> ensure the scaled versions
are not displayed in the UI.  They will still be uploaded and represented in the <a href="statistics-and-status-updates.html">upload data store</a>.
Since they will not be represented in the UI, this means that they cannot be deleted, canceled, or manually retried
via Fine Uploader&#8217;s default UI.  Failures of these scaled versions will obviously not be apparent to users by
default if you elect to hide them from the UI.</p>
<h3 id="include-exif-headers-in-scaled-images">Include EXIF Headers in Scaled Images</h3>
<p>If you set the <a href="../api/options.html#scaling.includeExif"><code>scaling.includeExif</code> option</a> to <code>true</code>, Fine Uploader will insert the EXIF header from the
original image into each scaled image.  This option is ignored unless the original image AND the target (scaled)
image are both of type &#8220;image/jpeg&#8221;.</p>
<div class="codehilite"><pre><span class="kd">var</span> <span class="nx">uploader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">qq</span><span class="p">.</span><span class="nx">FineUploader</span><span class="p">({</span>
    <span class="p">...</span>
    <span class="nx">scaling</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">includeExif</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>

        <span class="nx">sizes</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;small&quot;</span><span class="p">,</span> <span class="nx">maxSize</span><span class="o">:</span> <span class="mi">100</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;medium&quot;</span><span class="p">,</span> <span class="nx">maxSize</span><span class="o">:</span> <span class="mi">300</span><span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>


<p>In the above example, EXIF data from the original image will be inserted into both of the scaled images.
Note that, by default, the scaled images will also be re-oriented according to the parsed Orientation tag in the
original image.  If you don&#8217;t want Fine Uploader to do this, you must set the <a href="../api/options.html#scaling.orient"><code>scaling.orient</code> option</a>
to <code>false</code>.</p>
<h3 id="supported-file-types">Supported File Types</h3>
<p>Scaling can occur on JPEGs, BMPs, GIFs, and PNGs.  TIFFs are also supported, but only in Safari.  The output
type is generally limited to JPEG and PNG.  If the original file type happens to be anything other than a JPEG,
the output type will default to PNG.  JPEG original files will be converted to scaled JPEGs by default.
You can override this via the <a href="../api/options.html#scaling"><code>scaling</code> option</a>, but you should probably not, unless you know
what you are doing.</p>
<h3 id="tracking-scaled-files-server-side">Tracking Scaled Files Server-Side</h3>
<p>Fine Uploader will send request parameters along with some scaled files to make it easy for you to connect them to
the original/parent file server-side.  If you have not set the <a href="../api/options.html#scaling.sendOriginal">scaling.sendOriginal option</a>
to <code>false</code>, &#8220;qqparentuuid&#8221; and &#8220;qqparentsize&#8221; parameters will be sent with each scaled image upload request.  These
parameters link the scaled image to the parent/original image.  Note that the parent images will also include
a &#8220;qquuid&#8221; request parameter as well.  If you are using <a href="s3.html">Fine Uploader S3</a> or <a href="azure.html">Azure</a>, these parameters
will be associated with the file in your bucket or blob container.</p>
<h3 id="notices">Notices</h3>
<ul>
<li>
<p>Do not set the <a href="../api/options-ui.html#scaling.hideScaled"><code>scaling.hideScaled</code> option</a> to <code>true</code> AND the <a href="../api/options.html#scaling.sendOriginal"><code>scaling.sendOriginal</code> option</a>
to <code>false</code> at the same time.  This will result in no files being represented in the UI for images that are scalable.</p>
</li>
<li>
<p>Scaled files hidden from the UI when the <a href="../api/options-ui.html#scaling.hideScaled"><code>scaling.hideScaled</code> option</a> is set to <code>true</code> cannot be
canceled, manually retried, or deleted via the UI, since they are not represented in the UI.</p>
</li>
<li>
<p>Be very careful when specifying a value for <a href="../api/options.html#scaling.defaultType"><code>scaling.defaultType</code></a>, or a <code>type</code> property for one of your
<a href="../api/options.html#scaling.sizes"><code>scaling.sizes</code> objects</a>.  The only safe values are <code>null</code> (the default), &#8220;image/jpeg&#8221;, and &#8220;image/png&#8221;.  Other
target types may not be supported by all browsers.</p>
</li>
<li>
<p>Be careful if you set the <a href="../api/options.html#validation.itemLimit"><code>validation.itemLimit</code> option</a>.  Each Scaled image file will count towards
this item limit.</p>
</li>
<li>
<p>Client-side scaling and EXIF header re-insertion operations can potentially be very resource-intensive.
Please keep this in mind before you enable this feature, taking into account your user base and application goals.</p>
</li>
<li>
<p>iOS limits the size of a <code>&lt;canvas&gt;</code> to  about 5 megapixels.  Any image larger than this will be rendered as a
blank <code>&lt;canvas&gt;</code>.  This affects scaling as Fine Uploader uses <code>&lt;canvas&gt;</code> in part of the scaling process.  To
overcome this issue, Fine Uploader will further downsample scaled images that exceed this limit.  You can check to
see if such a limitation is known by examining the <code>qq.supportedFeatures.unlimitedScaledImageSize</code> flag.</p>
</li>
</ul>
<h3 id="supported-browsers">Supported Browsers</h3>
<p>This feature is supported on all browsers other than IE9 and older, Android 2.4 or older, and Safari 5.1 or older.
Note that Android&#8217;s stock browser is also not supported, due to multiple long-standing bugs in that browser with
Blobs and data URIs.  Chrome on Android is supported, though.</p>


                
                </div>

            
            </div>
            <footer>
    <p>Powered by <a href="http://www.widen.com/">Widen Enterprises, Inc.</a>. &copy; 2014</p>
</footer>

        </div> <!-- /container -->
        

        
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
        
        
            <!--
            <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
            -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        

        
            
            
            <script>
                
                var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
                (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
                    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
                    s.parentNode.insertBefore(g,s)}(document,'script'));
                
            </script>
            

            
            <script type="text/javascript">
                var clicky_site_ids = clicky_site_ids || [];
                clicky_site_ids.push(100643192);
                (function() {
                    var s = document.createElement('script');
                    s.type = 'text/javascript';
                    s.async = true;
                    s.src = '//static.getclicky.com/js';
                    ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
                })();
            </script>
            <noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100643192ns.gif" /></p></noscript>
            
        

        <script src="/tag/5.0.7/_static/js/main.js"></script>

        
        
        


    </body>
</html>