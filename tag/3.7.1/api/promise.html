<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>FineUploader - Documentation</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width">

<link href="//netdna.bootstrapcdn.com/bootswatch/2.3.2/cerulean/bootstrap.min.css" rel="stylesheet">
<!--
<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet">
<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome-ie7.min.css" rel="stylesheet">
-->
<link rel="stylesheet" href="/tag/3.7.1/_static/css/pygments.css" />

<style>
    body {
        padding-top: 60px;
        padding-bottom: 40px;
    }
</style>

<link rel="stylesheet" href="/tag/3.7.1/_static/css/main.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <div class="nav-collapse collapse">
                <ul class="nav">
                    <li><a class="brand" href="http://fineuploader.com/"><img style="margin-top: -13px; height: 24px" src="http://fineuploader.com/img/FineUploader_logo.png"></img></a></li>
                    <li><a href="/tag/3.7.1">Home</li></a>
                    <li><a href="http://blog.fineuploader.com/">Blog</li></a>
                    <li><a href="/tag/3.7.1/overview">Overview</li></a>
                    <li class="divider-vertical"></li>

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Integrating <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <ul><a href="/tag/3.7.1/integrating/quickstart/">Quickstart</a></ul>
                            <li class="divider"></li>
                            <ul><b>Modes</b></ul>
                            <ul><a href="/tag/3.7.1/integrating/modes/fineuploader.html">FineUploader</a></ul>
                            <ul><a href="/tag/3.7.1/integrating/modes/fineuploaderbasic.html">FineUploader Basic</a></ul>
                            <ul><a href="/tag/3.7.1/integrating/modes/jquery-fineuploader.html">jQuery FineUploader</a></ul>
                            <ul><a href="/tag/3.7.1/integrating/modes/jquery-fineuploaderbasic.html">jQuery FineUploader Basic</a></ul>
                            <li class="divider"></li>
                            <ul><b>Options</b></ul>
                            <ul><a href="/tag/3.7.1/integrating/options/fineuploader.html">FineUploader</a></ul>
                            <ul><a href="/tag/3.7.1/integrating/options/fineuploaderbasic.html">FineUploader Basic</a></ul>
                            <ul><a href="/tag/3.7.1/integrating/options/overriding.html">Overriding</a></ul>
                            <li class="divider"></li>
                            <ul><b>Extras</b></ul>
                            <ul><a href="/tag/3.7.1/integrating/styling.html">Styling</a></ul>
                            <ul><a href="/tag/3.7.1/integrating/server">Server</a></ul>
                        </ul>
                    </li>
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <ul><a href="/tag/3.7.1/api/callbacks.html">Callbacks</a></ul>
                            <ul><a href="/tag/3.7.1/api/drag-and-drop.html">Drag 'n' Drop</a></ul>
                            <ul><a href="/tag/3.7.1/api/feature-detection.html">Feature Detection</a></ul>
                            <ul><a href="/tag/3.7.1/api/fineuploader.html">FineUploader</a></ul>
                            <ul><a href="/tag/3.7.1/api/fineuploaderbasic.html">FineUploader Basic</a></ul>
                            <ul><a href="/tag/3.7.1/api/promise.html">Promises</a></ul>
                            <ul><a href="/tag/3.7.1/api/qquery.html">QQuery</a></ul>
                        </ul>
                    </li>

                    <li><a href="/tag/3.7.1/overview/support.html">Support</li></a>

                    
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Version <b class="caret"></b>
                        <ul class="dropdown-menu">
                            
                                <li class="active"><a href="/branch/master">Newest</a></li>
                            
                                <li><a href="/branch/develop">In Progress</a></li>
                            
                        </ul>
                    </li>
                    <!--
                    <li class="dropdown pull-right">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Current Tag:  <b class="caret"></b>
                        <ul class="dropdown-menu">
                        
                            <li><a href="/branch">Branch</a></li>
                            
                                <ul><a href="/branch/feature/s3-fileapi-simple">Feature_s3-Fileapi-Simple</a></ul>
                            
                                <ul><a href="/branch/feature/documentation-styling">Feature_documentation-Styling</a></ul>
                            
                                <ul><a href="/branch/hotfix/overbearing-editFilename">Hotfix_overbearing-EditFilename</a></ul>
                            
                                <ul><a href="/branch/chore/fineuploader-3.7.1">Chore_fineuploader-3.7.1</a></ul>
                            
                                <ul><a href="/branch/downloads">Downloads</a></ul>
                            
                                <ul><a href="/branch/feature/old-browser-s3">Feature_old-Browser-S3</a></ul>
                            
                                <ul><a href="/branch/master">Master</a></ul>
                            
                                <ul><a href="/branch/develop">Develop</a></ul>
                            
                                <ul><a href="/branch/gh-pages">Gh-Pages</a></ul>
                            
                        
                            <li><a href="/file">File</a></li>
                            
                                <ul><a href="/file/fine-uploader">Fine-Uploader</a></ul>
                            
                        
                            <li><a href="/hook.php">Hook.php</a></li>
                            
                        
                            <li><a href="/tag">Tag</a></li>
                            
                                <ul><a href="/tag/3.7.1">3.7.1</a></ul>
                            
                        
                        </ul>
                    </li>
                </ul>
                -->
            </div><!--/.nav-collapse -->
        </div>
    </div>
</div>



        <div class="container">

            
<h2 id="promises">Promises</h2>
<p>In some cases, Fine Uploader requires use of &ldquo;promises&rdquo;, both internally and via the API.  Promises are helpful when<br>
dealing with asynchronous patterns.  If you are not familiar with this concept, simply &ldquo;Google&rdquo; it.  There are many documents<br>
that explain this concept, and it doesn&rsquo;t make sense to duplicate any of those explanations here.</p>
<p>Fine Uploader&rsquo;s support for promises is encapsulated in the <code>qq.Promise</code> class.  I imagine that more public functions<br>
will be added to this class in the future, but, for now, it&rsquo;s quite simple.  I&rsquo;ll demonstrate a simple use of this promise<br>
implementation below.</p>
<p>Suppose you are overriding a promissory function or callback.  For example, suppose you want to override the <code>showPrompt</code><br>
option (function).  The default implementation of this function uses <code>window.prompt</code>, which isn&rsquo;t very stylish.  You may want<br>
to provide a more appropriate prompt dialog for your application.  Your implementation, using <a href="http://bootboxjs.com/">bootbox</a><br>
for your prompt dialog, might look something like this:</p>
<div class="codehilite"><pre><span class="nx">showPrompt</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">defaultValue</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">promise</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">qq</span><span class="p">.</span><span class="nx">Promise</span><span class="p">();</span>

    <span class="nx">bootbox</span><span class="p">.</span><span class="nx">prompt</span><span class="p">(</span><span class="s2">"Enter a value"</span><span class="p">,</span> <span class="s2">"Cancel"</span><span class="p">,</span> <span class="s2">"Confirm"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">result</span> <span class="o">===</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">qq</span><span class="p">.</span><span class="nx">trimStr</span><span class="p">(</span><span class="nx">result</span><span class="p">).</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">promise</span><span class="p">.</span><span class="nx">failure</span><span class="p">(</span><span class="s2">"User cancelled prompt dialog or entered an empty string."</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">promise</span><span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="nx">defaultValue</span><span class="p">);</span>

    <span class="k">return</span> <span class="nx">promise</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>The bootbox prompt dialog is not blocking, meaning the <code>showPrompt</code> call will return before the user has entered any<br>
information.  So, you must return a promise that will be updated with the user&rsquo;s response after it is submitted.  Fine<br>
Uploader will wait for a callback indicating either success or failure, and will then continue executing the original task<br>
based on this result.  One use of the <code>showPrompt</code> function is to grab a name, from the user, of a pasted image.  In this case<br>
once the result has been updated on the promise instance, Fine Uploader will proceed to upload the pasted image using the<br>
name supplied by the user.</p>
<h3 id="qqpromise-api"><code>qq.Promise</code> API:</h3>
<table class='table table-bordered table-striped'>
    <thead>
        <tr>
            <th>Name</th>
            <th>Takes</th>
            <th>Returns</th>
            <th>Note</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>then</td>
            <td>(function)successCallback, (function)failureCallback</td>
            <td>promise instance</td>
            <td>Call this on a promise instance to register your callbacks for success and failure.  For each callback,
            the value, if any, supplied by the creator of the promise will be passed into your callbacks.  If success or
            failure has already ocurred before you register your callbacks, they will be called immediately after this
            call has executed.  Each call to <code>then</code> registers an additional set of callbacks.</td>
        </tr>
        <tr>
            <td>done</td>
            <td>(function)callback</td>
            <td>promise instance</td>
            <td>Call this on a promise instance to register your callbacks for success OR failure.  This callback will be
            invoked when the promise is fulfilled, regardless of the result.  Each call to <code>done</code> registers an
            additional set of callbacks.</td>
        </tr>
        <tr>
            <td>success</td>
            <td>result</td>
            <td>promise instance</td>
            <td>Call this on a promise instance to indicate success.  The parameter value will depend on the situation.</td>
        </tr>
        <tr>
            <td>failure</td>
            <td>result</td>
            <td>promise instance</td>
            <td>Call this on a promise instance to indicate failure.  The parameter value will depend on the situation.
            In most cases, I would imagine that this would be a simple explanation of the failure.</td>
        </tr>
    </tbody>
</table>

<p><br/></p>
<h3 id="fine-uploader-supports">Fine Uploader Supports</h3>
<h4 id="callbacks">Callbacks</h4>
<p>Promises are acceptable return values in the following <a href="callbacks.html">callbacks</a>:</p>
<ul>
<li><code>onSubmit</code></li>
<li><code>onCancel</code></li>
<li><code>onResume</code></li>
<li><code>onValidateBatch</code></li>
<li><code>onValidate</code></li>
<li><code>onSubmitDelete</code></li>
<li><code>onPasteReceived</code></li>
</ul>


            <hr>

            <footer>
    <p>&copy; <a href="http://www.widen.com/">Widen Enterprises, Inc.</a>, 2013</p>
</footer>

        </div> <!-- /container -->

        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>

<script>
    var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
    </body>
</html>