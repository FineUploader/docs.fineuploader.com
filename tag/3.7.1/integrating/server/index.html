<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>FineUploader - Documentation</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width">

<link href="//netdna.bootstrapcdn.com/bootswatch/2.3.2/cerulean/bootstrap.min.css" rel="stylesheet">
<!--
<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet">
<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome-ie7.min.css" rel="stylesheet">
-->
<link rel="stylesheet" href="/tag/3.7.1/_static/css/pygments.css" />

<style>
    body {
        padding-top: 60px;
        padding-bottom: 40px;
    }
</style>

<link rel="stylesheet" href="/tag/3.7.1/_static/css/main.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>

            <div class="nav-collapse collapse">
                <ul class="nav">
                    <li><a class="brand" href="http://fineuploader.com/"><img style="margin-top: -13px; height: 24px" src="http://fineuploader.com/img/FineUploader_logo.png"></img></a></li>
                    <li><a href="/tag/3.7.1">Home</li></a>
                    <li><a href="http://blog.fineuploader.com/">Blog</li></a>
                    <li><a href="/tag/3.7.1/overview">Overview</li></a>
                    <li class="divider-vertical"></li>

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Integrating <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <ul><a href="/tag/3.7.1/integrating/quickstart/">Quickstart</a></ul>
                            <li class="divider"></li>
                            <ul><b>Modes</b></ul>
                            <ul><a href="/tag/3.7.1/integrating/modes/fineuploader.html">FineUploader</a></ul>
                            <ul><a href="/tag/3.7.1/integrating/modes/fineuploaderbasic.html">FineUploader Basic</a></ul>
                            <ul><a href="/tag/3.7.1/integrating/modes/jquery-fineuploader.html">jQuery FineUploader</a></ul>
                            <ul><a href="/tag/3.7.1/integrating/modes/jquery-fineuploaderbasic.html">jQuery FineUploader Basic</a></ul>
                            <li class="divider"></li>
                            <ul><b>Options</b></ul>
                            <ul><a href="/tag/3.7.1/integrating/options/fineuploader.html">FineUploader</a></ul>
                            <ul><a href="/tag/3.7.1/integrating/options/fineuploaderbasic.html">FineUploader Basic</a></ul>
                            <ul><a href="/tag/3.7.1/integrating/options/overriding.html">Overriding</a></ul>
                            <li class="divider"></li>
                            <ul><b>Extras</b></ul>
                            <ul><a href="/tag/3.7.1/integrating/styling.html">Styling</a></ul>
                            <ul><a href="/tag/3.7.1/integrating/server">Server</a></ul>
                        </ul>
                    </li>
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <ul><a href="/tag/3.7.1/api/callbacks.html">Callbacks</a></ul>
                            <ul><a href="/tag/3.7.1/api/drag-and-drop.html">Drag 'n' Drop</a></ul>
                            <ul><a href="/tag/3.7.1/api/feature-detection.html">Feature Detection</a></ul>
                            <ul><a href="/tag/3.7.1/api/fineuploader.html">FineUploader</a></ul>
                            <ul><a href="/tag/3.7.1/api/fineuploaderbasic.html">FineUploader Basic</a></ul>
                            <ul><a href="/tag/3.7.1/api/promise.html">Promises</a></ul>
                            <ul><a href="/tag/3.7.1/api/qquery.html">QQuery</a></ul>
                        </ul>
                    </li>

                    <li><a href="/tag/3.7.1/overview/support.html">Support</li></a>

                    
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Version <b class="caret"></b>
                        <ul class="dropdown-menu">
                            
                                <li class="active"><a href="/branch/master">Newest</a></li>
                            
                                <li><a href="/branch/develop">In Progress</a></li>
                            
                        </ul>
                    </li>
                    <!--
                    <li class="dropdown pull-right">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Current Tag:  <b class="caret"></b>
                        <ul class="dropdown-menu">
                        
                            <li><a href="/branch">Branch</a></li>
                            
                                <ul><a href="/branch/feature/s3-fileapi-simple">Feature_s3-Fileapi-Simple</a></ul>
                            
                                <ul><a href="/branch/feature/documentation-styling">Feature_documentation-Styling</a></ul>
                            
                                <ul><a href="/branch/hotfix/overbearing-editFilename">Hotfix_overbearing-EditFilename</a></ul>
                            
                                <ul><a href="/branch/chore/fineuploader-3.7.1">Chore_fineuploader-3.7.1</a></ul>
                            
                                <ul><a href="/branch/downloads">Downloads</a></ul>
                            
                                <ul><a href="/branch/feature/old-browser-s3">Feature_old-Browser-S3</a></ul>
                            
                                <ul><a href="/branch/master">Master</a></ul>
                            
                                <ul><a href="/branch/develop">Develop</a></ul>
                            
                                <ul><a href="/branch/gh-pages">Gh-Pages</a></ul>
                            
                        
                            <li><a href="/file">File</a></li>
                            
                                <ul><a href="/file/fine-uploader">Fine-Uploader</a></ul>
                            
                        
                            <li><a href="/hook.php">Hook.php</a></li>
                            
                        
                            <li><a href="/tag">Tag</a></li>
                            
                                <ul><a href="/tag/3.7.1">3.7.1</a></ul>
                            
                        
                        </ul>
                    </li>
                </ul>
                -->
            </div><!--/.nav-collapse -->
        </div>
    </div>
</div>



        <div class="container">

            
<h1 id="server-side-notes-requirements">Server-Side Notes &amp; Requirements</h1>
<p>In the server folder you will find some examples for different platforms. If you can&rsquo;t find the one you need, please read up on the server-side guidelines handling multipart form requests and XHR upload requests in your server-side language of choice.</p>
<p>Note that you can fine server-side examples in the <a href="https://github.com/Widen/fine-uploader-server">Fine Uploader Server repository</a>.</p>
<h2 id="handling-the-request-defaults">Handling the request (defaults)</h2>
<p>By default Fine Uploader will send the file in the body of a multipart encoded POST request.  The filename will be encoded in<br>
the request, but the parameters will be available in the query string only.  Note that, if chunking is enabled, the filename in the<br>
content-disposition header of the file boundary will have a value of &ldquo;blob&rdquo; so you will need to parse the value of the &ldquo;qqfilename&rdquo;<br>
parameter in this case to determine the name of the associated file.</p>
<p>Note that each request contains a UUID parameter.  By default, the name of this parameter is <code>qquuid</code>, but this is configurable<br>
in the <a href="/tag/3.7.1/integrating/options/fineuploaderbasic.html#request-option-properties"><code>request</code> option section</a>.  This parameter value<br>
should be used to uniquelyidentify the file, and the associationbetween this UUID and the file should be maintained<br>
sever-side if you want to handle DELETE requests, the resume feature, or chunking.</p>
<h2 id="request-format-options">Request Format Options</h2>
<ul>
<li>If you would like to ensure all parameters are sent in the request body (instead of the query string), you<br>
must set the <code>paramsInBody</code> request option (which will also force all requests to be multipart encoded as well).</li>
<li>For more information about request parameters, see the main project readme and <a href="http://blog.fineuploader.com/2012/12/09/setparams-is-now-much-more-useful-in-3-1/">this blog post about setting your own custom parameters</a><br>
along with <a href="http://blog.fineuploader.com/2012/12/05/include-params-in-the-request-body-or-the-query-string/">this post about how parameters are specified in the request</a>.</li>
</ul>
<h2 id="response">Response</h2>
<p>Your server should return a <a href="http://jsonlint.com/">valid JSON</a> response.  The content-type must be &ldquo;text/plain&rdquo;.</p>
<h4 id="values">Values</h4>
<ul>
<li><code>{"success":true}</code> when upload was successful.</li>
<li><code>{"success": false}</code> if not successful, no specific reason.</li>
<li><code>{"error": "error message to display"}</code> if not successful, with a specific reason.</li>
<li><code>{"success": false, "error": "error message to display", "preventRetry": true}</code> to prevent Fine Uploader from making<br>
any further attempts to retry uploading the file</li>
<li><code>{"success": false, "error": "error message to display", "reset": true}</code> to fail this attempt and restart with the first chunk on the next attempt.  Only applies if chunking is enabled.<br>
Note that, if resume is also enabled, and this is the first chunk of a resume attempt, this will result in the upload starting with the first chunk immediately.</li>
<li><code>{"success":true, "newUuid": "abc-def-ghi"}</code> When you would like to override the UUID for this file provided by Fine Uploader.</li>
</ul>
<p>Note: You can have additional custom properties in the response, but ensure that you include the &ldquo;success&rdquo;: true property for a successful response, or it will trigger the onError callback.</p>
<h2 id="file-chunkingpartitioning">File Chunking/Partitioning</h2>
<p>If you have file chunking turned on, each file will be split up into chunks that are sent, in order, in separate requests.</p>
<p>On the server-side, you must acknowledge each chunked request just as you would a non-chunked request.  If your response does<br>
not indicate success, Fine Uploader will declare the entire file a failure.  If you have auto and/or manual retry enabled,<br>
Fine Uploader will retry beginning with the last failed partition.</p>
<p>You must temporarily store each partition server-side and then concatenate all parts (to arrive at the complete file) after<br>
the last part is sent.  See the <code>paramNames</code> chunking sub-option to see what specific parameters are sent by Fine Uploader<br>
along with each chunked request.  These parameters will be necessary to ensure you properly parse each chunked request.  You may<br>
order Fine Uploader to restart with the first chunk on a failed attempt by returning a <code>reset</code> property in your server response<br>
(with a value of <code>true</code>).  This is only applicable if <code>autoRetry</code> or <code>manualRetry</code> is enabled.</p>
<p>You should make use of the UUID parameter, passed with reach request, that uniquely identifies each file.  This may make it easier for you<br>
to avoid collisions during accumulation of chunks between files with the same name.</p>
<p>Some server-side examples have been updated to handle file chunking.</p>
<p>For more complete details regarding the file chunking feature, along with code examples, please see <a href="http://blog.fineuploader.com/2013/01/01/resume-uploads-from-previous-sessions-in-3-2/">this blog post</a>.<br>
on the topic.</p>
<h2 id="file-resume">File Resume</h2>
<p>There isn&rsquo;t much you need to do, server-side, to support file resume, other than what has been discussed in the file chunking<br>
section above.  You can determine if a resume has been ordered by looking for a &ldquo;qqresume&rdquo; param with a value of true.  This<br>
parameter will be sent with the first request of the resume.</p>
<p>It is important that you keep chunks around on the server until either the entire file has been uploaded<br>
and all chunks have been merged, or until the number of days specified in the <code>cookiesExpireIn</code> property of the resume option have<br>
passed.  If, for some reason, you receive a request that indicates a resume has been ordered, and one or more of the previously uploaded<br>
chunks is missing or invalid, you can return a valid JSON response containing a &ldquo;reset&rdquo; property with a value of &ldquo;true&rdquo;.  This will<br>
let Fine Uploader know that it should start the file upload from the first chunk instead of the last failed chunk.</p>
<p>For more details, please read the <a href="http://blog.fineuploader.com/2013/01/01/resume-uploads-from-previous-sessions-in-3-2/">blog post on the file resume feature</a>.</p>
<h2 id="deleting-files_1">Deleting Files</h2>
<p>If you have enabled the <code>deleteFile</code> feature, you will need to handle <code>DELETE</code> or <code>POST</code> requests server-side.  The method<br>
is configurable via the <code>method</code> property of the <a href="integrating/options/fineuploaderbasic.html#deletefile-option-properties"><code>deleteFile</code> option</a>.</p>
<p>For DELETE  requests, the UUID of the file to delete will be specified as the last element of the URI path.  Any custom parameters<br>
specified will be added to the query string.  For POST requests, the UUID is sent as a &ldquo;qquuid&rdquo; parameter, and a &ldquo;_method&rdquo;<br>
parameter is sent with a value of &ldquo;DELETE&rdquo;.  All POST request parameters are sent in the request payload.</p>
<p>Success of the request will depend solely on the response code.  Acceptable response codes that indicate success are 200,<br>
202, and 204 for DELETE requests and 200 or 204 for POST requests.</p>
<p>If you would like to enable the delete file feature for cross-origin environments in IE9 or older, you will need to set<br>
the <code>allowXdr</code> property of the <code>cors</code> client-side option and adjust your server-side code appropriately.  Keep in mind<br>
that the Content-Type will be absent from the request header, and credentials (cookies) and <a href="http://www.w3.org/TR/cors/#simple-header">non-simple headers</a><br>
cannot be sent.</p>
<p>Please see <a href="http://blog.fineuploader.com/2013/06/05/delete-files-via-post-and-delete-requests/">the latest blog post on the delete file feature</a><br>
for more information.  If you want to support this feature in IE9 and IE8 for cross-origin environments, please<br>
read about the <a href="http://blog.fineuploader.com/2013/06/09/3-7-cross-origin-delete-file-support-for-ie9-and-ie8/">changes that occurred in 3.7 that optionally allow this</a>.</p>
<h2 id="cors-support">CORS Support</h2>
<p>As of version 3.3, CORS is supported.  For more details on how this works, limitations, and how to properly configure your server,<br>
please see the <a href="http://blog.fineuploader.com/2013/01/31/cors-support-in-3-3/">blog post on CORS support</a>.  Also, please see the<br>
cors option documentation in the main readme.</p>
<h2 id="providing-your-own-uuid-for-files">Providing your own UUID for files</h2>
<p>If you would like to track files with your own generated UUID, you can return the new UUID for the file at any time in<br>
your server&rsquo;s response.  If chunking is enabled, it generally would be most prudent to return this new UUID in the response<br>
to the first or last chunk.  Once you return the new UUID in your response, Fine Uploader will update its client-side<br>
records and begin to use that UUID from that point forward.  New UUIDs must be returned as the value of a <code>newUuid</code> property.<br>
See the <a href="#values">values</a> section above for an example.</p>
<h2 id="handling-an-overridden-filename">Handling an Overridden Filename</h2>
<p>Simple look for a &ldquo;qqfilename&rdquo; parameter.  If this exists in the request, be sure to use this when naming your file server-side.<br>
See the <a href="http://blog.fineuploader.com/2013/06/23/3-7-edit-override-file-names/">blog post</a> for more details.</p>


            <hr>

            <footer>
    <p>&copy; <a href="http://www.widen.com/">Widen Enterprises, Inc.</a>, 2013</p>
</footer>

        </div> <!-- /container -->

        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>

<script>
    var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
    </body>
</html>