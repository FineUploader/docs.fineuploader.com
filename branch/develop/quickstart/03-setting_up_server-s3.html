


<!DOCTYPE html>
<!--[if IE 8]>         <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

    <head>
        <title>Server Set-Up S3 | Fine Uploader Documentation</title>
        
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <link rel="icon" href="/favicon.ico">
        

        
        <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet">
        <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap-responsive.min.css" rel="stylesheet">
        
        
        <link href='https://fonts.googleapis.com/css?family=Maven+Pro:700,400' rel='stylesheet' type='text/css'>
        
        
        <link rel="stylesheet" href="/branch/develop/_static/css/main.css" />
        <link rel="stylesheet" href="/branch/develop/_static/css/pygments.css" />
        

        
        
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
        

        

    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->


        <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">

            <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse" aria-label="mobile navigation menu">
                <span class="hide">mobile navigation menu</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <div class="nav-collapse collapse">
                <ul class="nav">
                    <li><a class="brand" href="http://fineuploader.com/"><img style="margin-top: -10px; height: 20px" src="https://fineuploader.com/img/FineUploader_logo.png" alt="Fine Uploader logo"></a></li>
                    <li><a href="/branch/develop">Docs</a></li>
                    <li><a href="https://blog.fineuploader.com/">Blog</a></li>

                    <li class="dropdown">
                        <button id="features-menu-trigger" class="dropdown-toggle btn btn-link" data-toggle="dropdown">Features <b class="caret"></b></button>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="features-menu-trigger">
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/async-tasks-and-promises.html">Async Tasks & Promises</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/azure.html">Azure Blob Storage Uploads</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/cancellable-uploads.html">Cancelling</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/chunking.html">Chunking</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/concurrent-chunking.html">Concurrent Chunking</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/CORS.html">CORS</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/delete.html">Delete</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/drag-and-drop.html">Drag and Drop</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/handling-errors.html">Error Handling</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/modules.html">ES6 & CommonJS Support</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/filename-edit.html">Filename Editing</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/forms.html">Form Support</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/session.html">Initial File Lists</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/extra-buttons.html">Multiple Upload Buttons</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/no-server-uploads.html">No-Server Uploads</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/paste-to-upload.html">Paste</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/pause.html">Pause In-Progress Uploads</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/progress-bars.html">Progress Bars</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/thumbnails.html">Previews & Thumbnails</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/request-parameters.html">Request Parameters</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/resume.html">Resuming</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/retry.html">Retrying</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/s3.html">S3 Uploads</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/statistics-and-status-updates.html">Stats & Status</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/styling.html">Styling</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/upload-files.html">Uploading</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/scaling.html">Upload Scaled Images</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/upload-from-mobile-camera.html">Upload via Mobile Camera</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/validation.html">Validation</a></li>
                        </ul>
                    </li>

                    <li class="dropdown">
                        <button id="api-menu-trigger" class="dropdown-toggle btn btn-link" data-toggle="dropdown">API <b class="caret"></b></button>
                        <ul class="dropdown-menu api" role="menu" aria-labelledby="api-menu-trigger">
                                <li><b>Options</b></li>
                                <li role="presentation"><a role="menuitem" href="/branch/develop/api/options.html">Core</a></li>
                                <li role="presentation"><a role="menuitem" href="/branch/develop/api/options-ui.html">UI</a></li>
                                <li role="presentation"><a role="menuitem" href="/branch/develop/api/options-s3.html">S3</a></li>
                                <li role="presentation"><a role="menuitem" href="/branch/develop/api/options-azure.html">Azure</a></li>
                                <li class="divider"></li>
                                <li><b>Methods</b></li>
                                <li role="presentation"><a role="menuitem" href="/branch/develop/api/methods.html">Core & UI</a></li>
                                <li role="presentation"><a role="menuitem" href="/branch/develop/api/methods-s3.html">S3</a></li>
                                <li role="presentation"><a role="menuitem" href="/branch/develop/api/methods-azure.html">Azure</a></li>
                                <li class="divider"></li>
                                <li><b>Events</b></li>
                                <li role="presentation"><a role="menuitem" href="/branch/develop/api/events.html">Core & UI</a></li>
                                <li role="presentation"><a role="menuitem" href="/branch/develop/api/events-s3.html">S3</a></li>
                                <li class="divider"></li>
                                <li role="presentation"><a role="menuitem" style="margin-left: -20px;" href="/branch/develop/api/qq.html">Utilities</a></li>
                        </ul>
                    </li>

                    <li class="dropdown">
                        <button id="servers-dropdown-trigger" class="dropdown-toggle btn btn-link" data-toggle="dropdown">Servers <b class="caret"></b></button>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="servers-dropdown-trigger">
                            <li role="presentation"><a role="menuitem" href="/branch/develop/endpoint_handlers/traditional.html">Traditional</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/endpoint_handlers/amazon-s3.html">Amazon S3</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/endpoint_handlers/azure.html">Azure Blob Storage</a></li>
                        </ul>
                    </li>

                    <li class="dropdown">
                        <button id="support-dropdown-trigger" class="dropdown-toggle btn btn-link" data-toggle="dropdown">Support <b class="caret"></b></button>
                        <ul class="dropdown-menu support" role="menu" aria-labelledby="support-dropdown-trigger">
                            <li role="presentation"><a role="menuitem" href="/branch/develop/browser-support.html">Browsers</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/faq.html">FAQ</a></li>
                            <li role="presentation"><a role="menuitem" href="/branch/develop/features/handling-errors.html">Handling Errors</a></li>
                        </ul>
                    </li>

                    
                        
                    
                    
                    <li class="dropdown">
                        <button id="version-dropdown-trigger" class="dropdown-toggle btn btn-link" data-toggle="dropdown">Version <b class="caret"></b></button>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="version-dropdown-trigger">
                            <li role="presentation"><a role="menuitem" href="/branch/develop">Current: 5.15.0</a></li>
                            
                                <li role="presentation"><a role="menuitem" href="/branch/master">Stable</a></li>
                            
                                <li role="presentation"><a role="menuitem" href="/branch/develop">In Progress</a></li>
                            
                            <li role="presentation">
                                <form class="tag-chooser">
                                    <input class="tag-input" name="tag" placeholder="5.4.0">
                                    <button class="btn btn-info">Go</button>
                                </form>
                            </li>
                        </ul>
                    </li>
                </ul>

                <form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form pull-right">
                    <input type="hidden" name="sites" value="docs.fineuploader.com/branch/develop"/>
                    <!-- Header -->
                    <input type="hidden" name="kj" value="#0088CC"/>
                    <!-- Background -->
                    <input type="hidden" name="k7" value="#FFFFFF"/>
                    <!-- Text -->
                    <input type="hidden" name="k8" value="#444444"/>
                    <!-- Links -->
                    <input type="hidden" name="k9" value="#0088CC"/>
                    <!-- Visited Links -->
                    <input type="hidden" name="kaa" value="#0088CC"/>
                    <!-- URLS -->
                    <input type="hidden" name="kx" value="#F87436"/>
                    <!-- Font -->
                    <input type="hidden" name="kt" value="h"/>
                    <input type="text" name="q" maxlength="255" placeholder="Search&hellip;" class="span2" title="search documentation" style="margin-top: 4px;"/>
                    <input type="submit" value="DuckDuckGo Search" style="visibility: hidden; width: 0;" />
                </form>
            </div>
        </div>
    </div>
</div>




        
        <div class="container-fluid">
            <div class='row-fluid'>
            

                <div class="span2 sidebar">
                
                </div>

                <div class="span9 content">
                    <span class="pull-right version-number"><p>5.15.0</p></span>

                

                
<h1 class="page-header" id="server-set-up-amazon-s3">Server Set-Up <small>Amazon S3</small></h1>
<p>For this tutorial we are going to use PHP to develop a simple server which will sign requests bound for S3.</p>
<p>If PHP is not your style, then feel free to browse the other
<a href="https://github.com/FineUploader/server-examples">server-side examples repository</a>.  <strong>It's quite important for you to read
the <a href="../endpoint_handlers/amazon-s3.html">Amazon S3 server-side integration instructions</a> before you do any of this,
though</strong>.</p>
<h3 id="getting-started_2">Getting Started</h3>
<h4 id="step-1-setup-your-s3-bucket-iam-user">Step 1: Setup your S3 bucket &amp; IAM user</h4>
<p>Please read <a href="http://blog.fineuploader.com/2013/08/16/fine-uploader-s3-upload-directly-to-amazon-s3-from-your-browser/">our blog post on Fine Uploader S3</a> for more information regarding setup of your buckets and IAM users.</p>
<h4 id="step-2-download-the-sample-php-s3-signature-server">Step 2: Download the sample PHP S3 signature server</h4>
<p>We've <a href="https://packagist.org/packages/fineuploader/php-s3-server">published an S3 endpoint PHP server for Fine Uploader to Packagist</a>, which means you can easily download
it to your project using [composer][composer]!</p>
<p>Follow these simple steps to get a copy of the PHP traditional endpoint using Composer:</p>
<ol>
<li>Download Composer: <code>curl -sS https://getcomposer.org/installer | php</code>.</li>
<li>Create a composer.json file and place it in the root of your project. See below for an example file.</li>
<li>Install the Fine Uploader S3 endpoint code: <code>php composer.phar install</code>.</li>
</ol>
<p>An example composer.json file may look like this:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;require&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;fineuploader/php-s3-server&quot;</span><span class="p">:</span> <span class="s2">&quot;1.1.0&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Be sure to update the version with the appropriate version of Fine Uploader's S3 PHP server.</p>
<h4 id="step-3-prepare-your-environment">Step 3: Prepare your environment</h4>
<p>You will need to set 4 environment variables before starting the server. These variables will store your AWS client-side
secret key, AWS server-side public key, AWS server-side secret key, and the name of your S3 bucket. You set up
your bucket, along with all of your keys, in step 1 above.</p>
<p>To set your environment variables on a Unix or Linux system, you may execute 4 lines, similar to this:</p>
<div class="codehilite"><pre><span></span><span class="nb">export</span> <span class="nv">AWS_CLIENT_SECRET_KEY</span><span class="o">=</span>fake/client-private-key
<span class="nb">export</span> <span class="nv">AWS_SERVER_PUBLIC_KEY</span><span class="o">=</span>fake-server-public-key
<span class="nb">export</span> <span class="nv">AWS_SERVER_PRIVATE_KEY</span><span class="o">=</span>fake/server-private-key
<span class="nb">export</span> <span class="nv">S3_BUCKET_NAME</span><span class="o">=</span>mybucket
</pre></div>


<h4 id="step-4-start-the-php-server">Step 4: Start the PHP server</h4>
<p>You can easily start up a simple HTTP server using PHP. Run the following command in the root of your web server:</p>
<div class="codehilite"><pre><span></span>php -S <span class="m">0</span>.0.0.0:8080
</pre></div>


<p>The above command will spawn a server on port 8080.</p>
<h4 id="step-5-verify-your-fine-uploader-client-side-configuration">Step 5: Verify your Fine Uploader client-side configuration</h4>
<p>Ensure all relevant configuration options are pointing to the path of the downloaded S3 signature endpoint server.
For example, if you placed composer.json in the root of your web server, the path to your PHP server will be
<code>/vendor/fineuploader/php-s3-server/endpoint.php</code>. You'll need to be aware of this endpoint when setting
the <a href="../api/options-s3.html#request.endpoint"><code>request.endpoint</code></a>, <a href="../api/options-s3.html#signature.endpoint"><code>signature.endpoint</code></a>,
and <a href="../api/options-s3.html#uploadSuccess.endpoint"><code>uploadSuccess.endpoint</code></a>, and
<a href="../api/options.html#deleteFile.endpoint"><code>deleteFile.endpoint</code></a> configuration options.</p>
<p>A typical configuration may look like this:</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">s3Uploader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">qq</span><span class="p">.</span><span class="nx">s3</span><span class="p">.</span><span class="nx">FineUploader</span><span class="p">({</span>
        <span class="nx">element</span><span class="o">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;fineuploader-container&quot;</span><span class="p">),</span>
        <span class="nx">debug</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">request</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">endpoint</span><span class="o">:</span> <span class="s2">&quot;http://mybucket.s3.amazonaws.com&quot;</span><span class="p">,</span>
            <span class="nx">accessKey</span><span class="o">:</span> <span class="s2">&quot;my-client-public-key&quot;</span>
        <span class="p">},</span>
        <span class="nx">signature</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">endpoint</span><span class="o">:</span> <span class="s2">&quot;/vendor/fineuploader/php-s3-server/endpoint.php&quot;</span>
        <span class="p">},</span>
        <span class="nx">uploadSuccess</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">endpoint</span><span class="o">:</span> <span class="s2">&quot;/vendor/fineuploader/php-s3-server/endpoint.php?success&quot;</span>
        <span class="p">},</span>
        <span class="nx">iframeSupport</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">localBlankPagePath</span><span class="o">:</span> <span class="s2">&quot;success.html&quot;</span>
        <span class="p">},</span>
        <span class="nx">chunking</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">enabled</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">concurrent</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">enabled</span><span class="o">:</span> <span class="kc">true</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">resume</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">enabled</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">},</span>
        <span class="nx">retry</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">enableAuto</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">showButton</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">},</span>
        <span class="nx">deleteFile</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">enabled</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nx">endpoint</span><span class="o">:</span> <span class="s2">&quot;/vendor/fineuploader/php-s3-server/endpoint.php&quot;</span>
        <span class="p">}</span>
    <span class="p">});</span>
</pre></div>


<h4 id="step-6-start-uploading">Step 6: Start uploading!</h4>
<p>You're all set! If you do run into any problems you can ask a question on [Stack Overflow under the fine-uploader tag][so].
Server example bugs should be reported in the <a href="https://github.com/FineUploader/php-s3-server">php-s3-server GitHub repository</a>.</p>


                
                </div>

            
            </div>
            <footer>
    <p>Fine Uploader - &copy; 2013-present, <a href="http://www.widen.com/">Widen Enterprises, Inc.</a>.</p>
</footer>

        </div> <!-- /container -->
        

        
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
        
        
            <!--
            <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
            -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        

        
            
            
            <script>
                
                var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
                (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
                    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
                    s.parentNode.insertBefore(g,s)}(document,'script'));
                
            </script>
            

            
            <script type="text/javascript">
                var clicky_site_ids = clicky_site_ids || [];
                clicky_site_ids.push(100643192);
                (function() {
                    var s = document.createElement('script');
                    s.type = 'text/javascript';
                    s.async = true;
                    s.src = '//static.getclicky.com/js';
                    ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
                })();
            </script>
            <noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100643192ns.gif" /></p></noscript>
            
        

        <script src="/branch/develop/_static/js/main.js"></script>
        <script src="/branch/develop/_static/js/navbar.js"></script>

        
        
        


    </body>
</html>